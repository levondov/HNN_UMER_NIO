function umerinit()
%UMERINIT - MML initialization program for University of Maryland accelerator


%==========================
% Accelerator Family Fields
%==========================
% FamilyName            BPMx, HCM, etc
% Position              m, magnet center  (often overwritten in updateatindex)
% CommonNames           Shortcut name for each element
% FitParams             List of fit parameters for model (PS eff, PS, L eff, L)


% NOTES
%

% Clear the AO 
setao([]); 


%%%%%%%%%%%%%%%
%  BPMx/BPMy  %
%%%%%%%%%%%%%%%

% BPMx, N = 14
BPMcell = {
'RC1'
'RC2'
'RC3'
'RC4'
'RC5'
'RC6'
'RC7'
'RC8'
'RC9'
'RC10'
'RC11'
'RC12'
'RC13'
'RC14'
'RC15'
'RC16'
'RC17'
'RC18'
};

AO.BPM.FamilyName  = 'BPM';
AO.BPM.Position    = 0.32:0.64:0.64*18;
AO.BPM.CommonNames = BPMcell;
AO.BPM.Gains = ones(length(BPMcell),2); % x,y
AO.BPM.Rolls = zeros(length(BPMcell),2); %x,y
AO.BPM.MisAlign = zeros(length(BPMcell),2);

% HH
HHcell= {
'HH1'
'HH2'
'HH3'
'HH4'
'HH5'
'HH6'
'HH7'
'HH8'
'HH9'
'HH10'
'H11'
'HH12'
'HH13'
'HH14'
'HH15'
'HH16'
'HH17'
'HH18'
};

% eff PS , PS , eff L, L
FitParamHH = [
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064
   1   0.0000505   1   0.064   
   1   0.0000505   1   0.064      
];

AO.HH.FamilyName  = 'HH';
AO.HH.Position    = 0:0.64:0.64*18;
AO.HH.CommonNames = HHcell; % same as channel names
AO.HH.FitParams = FitParamHH;
AO.HH.Rolls = zeros(length(HHcell),1); % x,y
AO.HH.MisAlign = zeros(length(HHcell),2);
AO.HH.SetPoints = [
    0.1
    0.054
    0.155
    0.231
    0.31
    0.383
    0.198
    0.372
    0.316
    0.183
    0.128
    0.118
    0.201
    0.439
    0.472
    0.427
    0.355
    0];

% VCM
VCMcell= {
'RSV1'
'RSV2'
'RSV3'
'RSV4'
'RSV5'
'RSV6'
'RSV7'
'RSV8'
'RSV9'
'RSV10'
'RSV11'
'RSV12'
'RSV13'
'RSV14'
'RSV15'
'RSV16'
'RSV17'
'RSV18'
};

% eff PS , PS , eff L, L
FitParamVCM = [
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380
   1   0.0000685   1   0.0380   
];

AO.VCM.FamilyName  = 'VCM';
AO.VCM.Position    = 0:0.64:0.64*18;
AO.VCM.CommonNames = VCMcell; % same as channel names
AO.VCM.FitParams = FitParamVCM;
AO.VCM.Rolls = zeros(length(VCMcell),1); % x,y
AO.VCM.MisAlign = zeros(length(VCMcell),2);
AO.VCM.SetPoints = [repmat([0.0],18,1)]; 


%%%%%%%%%%%%%%%
% Quadrupoles %
%%%%%%%%%%%%%%%

% QF, N = 36
QFcell = {
'QR3'
'QR5'
'QR7'
'QR9'
'QR11'
'QR13'
'QR15'
'QR17'
'QR19'
'QR21'
'QR23'
'QR25'
'QR27'
'QR29'
'QR31'
'QR33'
'QR35'
'QR37'
'QR39'
'QR41'
'QR43'
'QR45'
'QR47'
'QR49'
'QR51'
'QR53'
'QR55'
'QR57'
'QR59'
'QR61'
'QR63'
'QR65'
'QR67'
'QR69'
'QR71'
'QR1'
};

% eff PS , PS , eff L, L
FitParamQF = [
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.704772965119614   0.036080000000000   1.165538943510386   0.046500000000000
   0.704772965119614   0.036080000000000   1.165538943510386   0.046500000000000
   0.704772965119614   0.036080000000000   1.165538943510386   0.046500000000000
   0.704772965119614   0.036080000000000   1.165538943510386   0.046500000000000
   0.704772965119614   0.036080000000000   1.165538943510386   0.046500000000000
   0.704772965119614   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.699011155151838   0.036080000000000   1.165538943510386   0.046500000000000
   0.659692260700089   0.010100000000000   1.417344335558987   0.054000000000000
];

AO.QF.FamilyName  = 'QF';
AO.QF.Position    = .24:.32:.32*36;
AO.QF.CommonNames = QFcell; % same as channel names
AO.QF.FitParams = FitParamQF;
AO.QF.MisAlign = zeros(36,2);
AO.QF.Rolls = zeros(36,1);
AO.QF.SetPoints = [repmat([1.826],35,1);5];  
%AO.QF.FitParams(:,3) = 1.0;



% QD, N = 36
QDcell = {
'QR2'
'QR4'
'QR6'
'QR8'
'QR10'
'QR12'
'QR14'
'QR16'
'QR18'
'QR20'
'QR22'
'QR24'
'QR26'
'QR28'
'QR30'
'QR32'
'QR34'
'QR36'
'QR38'
'QR40'
'QR42'
'QR44'
'QR46'
'QR48'
'QR50'
'QR52'
'QR54'
'QR56'
'QR58'
'QR60'
'QR62'
'QR64'
'QR66'
'QR68'
'QR70'
'YQ'
};

% eff PS , PS , eff L, L
FitParamQD = [
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.703074613292063   0.036080000000000   1.214698253054901   0.046500000000000
   0.703074613292063   0.036080000000000   1.214698253054901   0.046500000000000
   0.703074613292063   0.036080000000000   1.214698253054901   0.046500000000000
   0.703074613292063   0.036080000000000   1.214698253054901   0.046500000000000
   0.703074613292063   0.036080000000000   1.214698253054901   0.046500000000000
   0.703074613292063   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   0.702934111914687   0.036080000000000   1.214698253054901   0.046500000000000
   1.052908782326495   0.011100000000000   0.977445680174425   0.054000000000000
];

AO.QD.FamilyName  = 'QD';
AO.QD.Position    = .08:.32:.32*36;
AO.QD.CommonNames = QDcell;
AO.QD.FitParams = FitParamQD;
AO.QD.MisAlign = zeros(36,2); %AO.QD.MisAlign(36,1) = 0.01389;
AO.QD.Rolls = zeros(36,1); AO.QD.Rolls(end) = 0.01745*1;
AO.QD.SetPoints = [repmat([1.826],35,1);5];
%AO.QD.FitParams(:,3) = 1.0;

% BEND, N = 36
BENDcell = {
'D1'
'D2'
'D3'
'D4'
'D5'
'D6'
'D7'
'D8'
'D9'
'D10'
'D11'
'D12'
'D13'
'D14'
'D15'
'D16'
'D17'
'D18'
'D19'
'D20'
'D21'
'D22'
'D23'
'D24'
'D25'
'D26'
'D27'
'D28'
'D29'
'D30'
'D31'
'D32'
'D33'
'D34'
'D35'
'PD'
};
% eff PS , PS , eff L, L
FitParamD = [
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   1.221350286489209   0.000521600000000   0.793674363441281   0.044370000000000
   0.831338549337712   0.000038200000000   1.779898374380934   0.044000000000000
];
% old eff peak: 1.096350286489209
AO.BEND.FamilyName  = 'BEND';
AO.BEND.Position    = .16:.32:.32*36;
AO.BEND.CommonNames = BENDcell; % same as channel names
AO.BEND.FitParams = FitParamD;
AO.BEND.MisAlign = zeros(36,2); %AO.BEND.MisAlign(36,1) = 0.01389;
AO.BEND.Rolls = zeros(36,1);
AO.BEND.SetPoints = [
2.636
2.8189
2.5293
2.7017
2.7369
2.5716
2.9154
2.6329
2.5276
2.4439
2.6303
2.144
2.5018
2.5113
2.3033
2.3681
2.2536
2.1314
2.4701
2.3174
2.4529
2.2986
2.3896
2.1539
2.4004
2.1964
2.443
2.4966
2.3922
2.0202
2.4037
2.2551
2.8801
2.2466
2.2213
17.33];

% O, N = 7
Ocell = {
'OC1'
'OC2'
'OC3'
'OC4'
'OC5'
'OC6'
'OC7'
};

% eff PS , PS , eff L, L
FitParamO = [
   1   50   1   0.0357
   1   50   1   0.0357
   1   50   1   0.0357
   1   50   1   0.0357
   1   50   1   0.0357
   1   50   1   0.0357
   1   50   1   0.0357
];

AO.O.FamilyName  = 'O';
AO.O.Position    = [];
AO.O.CommonNames = Ocell;
AO.O.FitParams = FitParamO;
AO.O.MisAlign = zeros(7,2);
AO.O.Rolls = zeros(7,1);
AO.O.SetPoints = zeros(7,1);

% Add sextupole components
scaleC = 0;
AO.QF.SextupoleC = (rand(36,1)*-2).*0;%scaleC;
AO.QD.SextupoleC = (rand(36,1)*-2).*0;%scaleC;
AO.BEND.SextupoleC = (rand(36,1)*-2).*0;%scaleC;


% setup AO object
setao(AO);
